# 🚀 Binance SMC Trading Bot - 운영 가이드

이 프로젝트는 Smart Money Concepts(SMC) 전략을 기반으로 한 바이낸스 선물 자동 매매 봇입니다. 
PM2 프로세스 관리자를 활용하여 24시간 중단 없는 가동 및 자동 복구 시스템이 구축되어 있습니다.

---

## 🏃‍♂️ 봇 실행 순서 (Quick Start)

봇을 처음 세팅하거나 완전히 새로 시작할 때 아래 순서대로 터미널에 입력하세요.

### 1. 봇 프로세스 등록 및 시작
운영체제에 맞는 명령어를 선택하여 입력하세요.
- **Windows 11 (PowerShell)**:
  ```powershell
  

STELA : 원하는 이름을 넣어도 되지만 아이디 같은 이름이므로 꼭 기억해야 함

AWS / Ubuntu (Bash): pm2 start main.py --name "STELA" --interpreter python3
Windows 11 : pm2 start main.py --name "STELA" --interpreter python

2. 정상 가동 확인
표의 status 항목이 online인지 확인합니다.
pm2 status

3. 실시간 로그 모니터링 (가장 중요)
봇이 현재 데이터를 잘 받고 있는지, 어떤 전략 판단을 하는지 실시간으로 확인합니다.
pm2 logs STELA --lines 50

4. 설정 저장 (재부팅 대비)
현재 실행 중인 봇 리스트를 저장하여 컴퓨터 재시작 시 자동으로 복구될 준비를 합니다.
새 봇을 만들거나, 봇을 삭제했거나, 이름을 바꿨거나, 부팅 설정을 처음 했을 때 한다
코드 수정을 했을 경우는 안해도 ㄱㅊ
pm2 save

명령어,용도,설명
실시간 감시 : "봇의 모든 출력 로그(매매, 에러)를 실시간 확인" : pm2 logs STELA
상태 체크  : "봇이 살아있는지, 몇 번 재시작(↺) 되었는지 확인" : pm2 status
대시보드   : 터미널 기반의 화려한 통합 모니터링 화면 출력 : pm2 monit
코드 업데이트 : 코드를 수정한 후 봇에게 즉시 반영할 때 사용 : pm2 restart STELA
시작 : 매매를 일시 정지 후 다시 시작할때 사용 : pm2 start STELA
일시 정지 : 매매를 잠시 멈추고 싶을 때 사용 : pm2 stop STELA
완전 삭제 : PM2 관리 목록에서 봇을 아예 제거할 때 사용 : pm2 delete STELA

🛡️ 시스템 무한 부활(Watchdog) 원리
본 봇에는 고장 감지 및 자동 재시작 최적화가 적용되어 있습니다.

심장박동 감시: websocket_threaded.py가 10초마다 데이터 수신 상태를 체크합니다.

자폭(Self-Kill): 네트워크 장애나 프로세스 꼬임으로 60초간 데이터 수신이 없으면 봇이 스스로 os._exit(1)을 실행하여 종료됩니다.

외부 부활: 관리자인 PM2가 봇의 종료를 즉시 감지하여 1초 안에 다시 실행합니다.

결과: 사용자가 직접 명령어를 다시 치지 않아도 24시간 연속 가동이 유지됩니다.

⚠️ 주의사항 (Windows 11)
절전 모드 해제: 윈도우 설정에서 컴퓨터가 '절전 모드'로 들어가지 않도록 설정해야 봇이 멈추지 않습니다.

자동 시작 설정: 컴퓨터 재부팅 시 PM2 자체를 자동 실행하려면 아래 설정이 권장됩니다.

1. 로그 파일 관리 (용량 확보)
봇을 며칠, 몇 달 동안 계속 켜두면 로그 파일(STELA-out.log)이 수 기가바이트(GB)까지 커져서 컴퓨터 용량을 차지할 수 있습니다. 이를 자동으로 관리해 주는 플러그인을 설치해 두면 편리합니다.

로그 자동 로테이트(압축/삭제) 설치:

PowerShell

pm2 install pm2-logrotate
이걸 설치하면 로그가 일정 용량 이상 커지면 알아서 압축하고 옛날 로그는 지워줍니다. 신경 쓸 일이 사라집니다.

Bash
npm install pm2-windows-startup -g
pm2-startup install
pm2 save

msg(종목명)